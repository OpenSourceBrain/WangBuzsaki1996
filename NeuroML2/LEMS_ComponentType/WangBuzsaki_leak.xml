<Lems xmlns="http://www.neuroml.org/lems/0.6"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.neuroml.org/lems/0.6 https://raw.github.com/LEMS/LEMS/master/Schemas/LEMS/LEMS_v0.6.xsd">

<!-- Definition in LEMS of a new ComponentType for the Wang & Buzsáki 1996 model in Wang XJ and Buzsáki Gy (1996) -->

<Include file="NeuroMLCoreDimensions.xml"/>

<ComponentType name="wangBuzsakiBasketCell"
               extends="baseCellMembPot"
               description="Cell based on Wang XJ and Buzsáki Gy (1996)">

        <Parameter name="C" dimension="specificCapacitance"/>
        <Parameter name="v0" dimension="voltage"/>

        <!-- leak conductance -->
        <Parameter name="gL" dimension="conductanceDensity"/>
        <Parameter name="eL" dimension="voltage"/>
        <Parameter name="I_app" dimension="currentDensity"/>


        <!-- Normalizing Constants -->
        <Constant name="MSEC" dimension="time" value="1 ms"/>
        <Constant name="MVOLT" dimension="voltage" value="1 mV"/>

        <Exposure name="V" dimension="voltage"/>

        <Dynamics>

            <StateVariable name="V" dimension="voltage" exposure="V"/>

            <!-- baseCellMembPot compatibility -->
            <DerivedVariable name="v" dimension="voltage" value="V" exposure="v"/>

            <!-- TODO: implement synaptic currents -->
            <TimeDerivative variable="V" value="(-gL*(V-eL)+I_app)/C"/>

            <OnStart>
                <StateAssignment variable="V" value="v0"/>
            </OnStart>

        </Dynamics>

    </ComponentType>

</Lems>
